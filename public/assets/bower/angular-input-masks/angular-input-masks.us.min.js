!function(e){var r=function(){var e={0:{pattern:/\d/,_default:"0"},9:{pattern:/\d/,optional:!0},"#":{pattern:/\d/,optional:!0,recursive:!0},S:{pattern:/[a-zA-Z]/},$:{escape:!0}},r=function(r,t){for(var i=0,n=t-1,a={escape:!0};n>=0&&a&&a.escape;)a=e[r.charAt(n)],i+=a&&a.escape?1:0,n--;return i>0&&i%2===1},t=function(e,r){var t=e.replace(/[^0]/g,"").length,i=r.replace(/[^\d]/g,"").length;return i-t},i=function(e,r,t){return t.reverse?r+e:e+r},n=function(r,t,i){var a=r.charAt(t),s=e[a];return""===a?!1:s&&!s.escape?!0:n(r,t+i,i)},a=function(e,r,t){var i=e.split("");return i.splice(t>=0?t:0,0,r),i.join("")},s=function(u,o){this.options=o||{},this.options={reverse:this.options.reverse||!1,usedefaults:this.options.usedefaults||this.options.reverse},this.pattern=u,s.prototype.process=function(s){if(!s)return"";s+="";for(var u=this.pattern,o=!0,l="",c=this.options.reverse?s.length-1:0,p=t(u,s),m=!1,f=[],d=!1,v={start:this.options.reverse?u.length-1:0,end:this.options.reverse?-1:u.length,inc:this.options.reverse?-1:1},h=function(e){if(!d&&n(u,$,v.inc))return!0;if(d||(d=f.length>0),d){var r=f.shift();if(f.push(r),e.reverse&&c>=0)return $++,u=a(u,r,$),!0;if(!e.reverse&&c<s.length)return u=a(u,r,$),!0}return $<u.length&&$>=0},$=v.start;h(this.options);$+=v.inc){var g=u.charAt($),M=s.charAt(c),k=e[g];if(!d||M){if(this.options.reverse&&r(u,$)){l=i(l,g,this.options),$+=v.inc;continue}if(!this.options.reverse&&m){l=i(l,g,this.options),m=!1;continue}if(!this.options.reverse&&k&&k.escape){m=!0;continue}}if(!d&&k&&k.recursive)f.push(g);else{if(d&&!M){k&&k.recursive||(l=i(l,g,this.options));continue}if(f.length>0&&k&&!k.recursive){o=!1;continue}if(!d&&f.length>0&&!M)continue}if(k)if(k.optional){if(k.pattern.test(M)&&p)l=i(l,M,this.options),c+=v.inc,p--;else if(f.length>0&&M){o=!1;break}}else if(k.pattern.test(M))l=i(l,M,this.options),c+=v.inc;else{if(M||!k._default||!this.options.usedefaults){o=!1;break}l=i(l,k._default,this.options)}else l=i(l,g,this.options),!d&&f.length&&f.push(g)}return{result:l,valid:o}},s.prototype.apply=function(e){return this.process(e).result},s.prototype.validate=function(e){return this.process(e).valid}};return s.process=function(e,r,t){return new s(r,t).process(e)},s.apply=function(e,r,t){return new s(r,t).apply(e)},s.validate=function(e,r,t){return new s(r,t).validate(e)},s}(),t={"boolean":!1,"function":!0,object:!0,number:!1,string:!1,undefined:!1};t[typeof module]&&(module.exports=r),e.module("ui.utils.masks.us",["ui.utils.masks.helpers","ui.utils.masks.us.phone"]),e.module("ui.utils.masks.us.phone",[]).directive("uiUsPhoneNumber",[function(){function e(e){return e.replace(/[^0-9]/g,"")}function t(e){var r;return r=e.length<11?i.apply(e)||"":n.apply(e),r.trim().replace(/[^0-9]$/,"")}var i=new r("(000) 000-0000"),n=new r("+00-00-000-000000");return{restrict:"A",require:"ngModel",link:function(r,i,n,a){function s(r){return a.$isEmpty(r)?r:t(e(r))}function u(r){if(a.$isEmpty(r))return r;var i=t(e(r)),n=e(i);return a.$viewValue!==i&&(a.$setViewValue(i),a.$render()),n}function o(e){var r=a.$isEmpty(e)||e.length>9;return a.$setValidity("usPhoneNumber",r),e}a.$formatters.push(s),a.$formatters.push(o),a.$parsers.push(u),a.$parsers.push(o)}}}]),e.module("ui.utils.masks.global",["ui.utils.masks.helpers","ui.utils.masks.global.date","ui.utils.masks.global.money","ui.utils.masks.global.number","ui.utils.masks.global.percentage","ui.utils.masks.global.scientific-notation","ui.utils.masks.global.time"]);var i;"undefined"!=typeof moment&&(i=moment);var n=[];try{e.module("angular-momentjs"),n.push("angular-momentjs")}catch(a){}e.module("ui.utils.masks.global.date",n).directive("uiDateMask",["$locale","$log","$injector",function(e,t,n){var a;if("undefined"==typeof i){if(!n.has("MomentJS"))throw new Error("Moment.js not found. Check if it is available.");a=n.get("MomentJS")}else a=i;var s={"pt-br":"DD/MM/YYYY"},u=s[e.id]||"YYYY-MM-DD";return{restrict:"A",require:"ngModel",link:function(e,i,n,s){function o(e){var r=e.replace(/[^0-9]/g,""),t=m.process(r).result||"";return t.trim().replace(/[^0-9]$/,"")}function l(e){if(t.debug("[uiDateMask] Formatter called: ",e),s.$isEmpty(e))return e;var r=o(a(e).format(u));return p(r),r}function c(e){if(t.debug("[uiDateMask] Parser called: ",e),s.$isEmpty(e))return p(e),e;var r=o(e);t.debug("[uiDateMask] Formated value: ",r),s.$viewValue!==r&&(s.$setViewValue(r),s.$render()),p(r);var i=a(r,u);return i.toDate()}function p(e){t.debug("[uiDateMask] Validator called: ",e);var r=a(e,u).isValid()&&e.length===u.length;s.$setValidity("date",s.$isEmpty(e)||r)}var m=new r(u.replace(/[YMD]/g,"0"));s.$formatters.push(l),s.$parsers.push(c)}}}]),e.module("ui.utils.masks.global.money",["ui.utils.masks.helpers"]).directive("uiMoneyMask",["$locale","$parse","PreFormatters","NumberValidators",function(t,i,n,a){return{restrict:"A",require:"ngModel",link:function(s,u,o,l){function c(e){if(l.$isEmpty(e))return e;var r=n.prepareNumberToFormatter(e,v);return g.apply(r)}function p(e){if(l.$isEmpty(e))return e;var r=e.replace(/[^\d]+/g,"");r=r.replace(/^[0]+([1-9])/,"$1");var t=g.apply(r);return e!==t&&(l.$setViewValue(t),l.$render()),t?parseInt(t.replace(/[^\d]+/g,""))/Math.pow(10,v):null}var m=t.NUMBER_FORMATS.DECIMAL_SEP,f=t.NUMBER_FORMATS.GROUP_SEP,d=t.NUMBER_FORMATS.CURRENCY_SYM,v=i(o.uiMoneyMask)(s);e.isDefined(o.uiHideGroupSep)&&(f=""),isNaN(v)&&(v=2);var h=v>0?m+new Array(v+1).join("0"):"",$=d+" #"+f+"##0"+h,g=new r($,{reverse:!0});l.$formatters.push(c),l.$parsers.push(p),o.uiMoneyMask&&s.$watch(o.uiMoneyMask,function(e){isNaN(e)&&(e=2),h=e>0?m+new Array(e+1).join("0"):"",$=d+" #"+f+"##0"+h,g=new r($,{reverse:!0}),p(l.$viewValue)}),o.min&&(l.$parsers.push(function(e){var r=i(o.min)(s);return a.minNumber(l,e,r)}),s.$watch(o.min,function(e){a.minNumber(l,l.$modelValue,e)})),o.max&&(l.$parsers.push(function(e){var r=i(o.max)(s);return a.maxNumber(l,e,r)}),s.$watch(o.max,function(e){a.maxNumber(l,l.$modelValue,e)}))}}}]),e.module("ui.utils.masks.global.number",["ui.utils.masks.helpers"]).directive("uiNumberMask",["$locale","$parse","PreFormatters","NumberMasks","NumberValidators",function(r,t,i,n,a){return{restrict:"A",require:"ngModel",link:function(s,u,o,l){function c(r){if(l.$isEmpty(r))return r;var t=i.clearDelimitersAndLeadingZeros(r)||"0",n=v.apply(t),a=parseFloat(h.apply(t));if(e.isDefined(o.uiNegativeNumber)){var s="-"===r[0],u="-"===r.slice(-1);u^s&&a&&(a*=-1,n="-"+n)}return l.$viewValue!==n&&(l.$setViewValue(n),l.$render()),a}function p(r){if(l.$isEmpty(r))return r;var t="";e.isDefined(o.uiNegativeNumber)&&0>r&&(t="-");var n=i.prepareNumberToFormatter(r,d);return t+v.apply(n)}var m=r.NUMBER_FORMATS.DECIMAL_SEP,f=r.NUMBER_FORMATS.GROUP_SEP,d=t(o.uiNumberMask)(s);e.isDefined(o.uiHideGroupSep)&&(f=""),isNaN(d)&&(d=2);var v=n.viewMask(d,m,f),h=n.modelMask(d);l.$formatters.push(p),l.$parsers.push(c),o.uiNumberMask&&s.$watch(o.uiNumberMask,function(e){isNaN(e)&&(e=2),v=n.viewMask(e,m,f),h=n.modelMask(e),c(l.$viewValue)}),o.min&&(l.$parsers.push(function(e){var r=t(o.min)(s);return a.minNumber(l,e,r)}),s.$watch(o.min,function(e){a.minNumber(l,l.$modelValue,e)})),o.max&&(l.$parsers.push(function(e){var r=t(o.max)(s);return a.maxNumber(l,e,r)}),s.$watch(o.max,function(e){a.maxNumber(l,l.$modelValue,e)}))}}}]),e.module("ui.utils.masks.global.percentage",["ui.utils.masks.helpers"]).directive("uiPercentageMask",["$locale","$parse","PreFormatters","NumberMasks","NumberValidators",function(r,t,i,n,a){function s(e,r){return i.clearDelimitersAndLeadingZeros((100*parseFloat(e)).toFixed(r))}return{restrict:"A",require:"ngModel",link:function(u,o,l,c){function p(e){if(c.$isEmpty(e))return e;var r=s(e,v);return $.apply(r)+" %"}function m(e){if(c.$isEmpty(e))return e;var r=i.clearDelimitersAndLeadingZeros(e)||"0";e.length>1&&-1===e.indexOf("%")&&(r=r.slice(0,r.length-1));var t=$.apply(r)+" %",n=parseFloat(g.apply(r));return c.$viewValue!==t&&(c.$setViewValue(t),c.$render()),n}var f=r.NUMBER_FORMATS.DECIMAL_SEP,d=r.NUMBER_FORMATS.GROUP_SEP,v=parseInt(l.uiPercentageMask);e.isDefined(l.uiHideGroupSep)&&(d=""),isNaN(v)&&(v=2);var h=v+2,$=n.viewMask(v,f,d),g=n.modelMask(h);c.$formatters.push(p),c.$parsers.push(m),l.uiPercentageMask&&u.$watch(l.uiPercentageMask,function(e){isNaN(e)&&(e=2),h=e+2,$=n.viewMask(e,f,d),g=n.modelMask(h),m(c.$viewValue)}),l.min&&(c.$parsers.push(function(e){var r=t(l.min)(u);return a.minNumber(c,e,r)}),u.$watch("min",function(e){a.minNumber(c,c.$modelValue,e)})),l.max&&(c.$parsers.push(function(e){var r=t(l.max)(u);return a.maxNumber(c,e,r)}),u.$watch("max",function(e){a.maxNumber(c,c.$modelValue,e)}))}}}]),e.module("ui.utils.masks.global.scientific-notation",[]).directive("uiScientificNotationMask",["$locale","$parse","$log",function(t,i,n){function a(e){var t="0";if(e>0){t+=s;for(var i=0;e>i;i++)t+="0"}return new r(t,{reverse:!0})}var s=t.NUMBER_FORMATS.DECIMAL_SEP,u=2;return{restrict:"A",require:"ngModel",link:function(r,t,o,l){function c(e){var r=e.toString(),t=r.match(/(-?[0-9]*)[\.]?([0-9]*)?[Ee]?([\+-]?[0-9]*)?/);return{integerPartOfSignificand:t[1],decimalPartOfSignificand:t[2],exponent:0|t[3]}}function p(r){if(n.debug("[uiScientificNotationMask] Formatter called: ",r),l.$isEmpty(r))return r;"string"==typeof r?r=r.replace(s,"."):"number"==typeof r&&(r=r.toExponential(d));var t,i,a=c(r),u=a.integerPartOfSignificand||0,o=u.toString();e.isDefined(a.decimalPartOfSignificand)&&(o+=a.decimalPartOfSignificand);var p=(u>=1||-1>=u)&&(e.isDefined(a.decimalPartOfSignificand)&&a.decimalPartOfSignificand.length>d||0===d&&o.length>=2);return p&&(i=o.slice(d+1,o.length),o=o.slice(0,d+1)),t=v.apply(o),0!==a.exponent&&(i=a.exponent),e.isDefined(i)&&(t+="e"+i),t}function m(e){if(n.debug("[uiScientificNotationMask] Parser called: ",e),l.$isEmpty(e))return e;var r=p(e),t=parseFloat(r.replace(s,"."));return l.$viewValue!==r&&(l.$setViewValue(r),l.$render()),t}function f(e){if(n.debug("[uiScientificNotationMask] Validator called: ",e),l.$isEmpty(e))return e;var r=e<Number.MAX_VALUE;return l.$setValidity("max",r),e}var d=i(o.uiScientificNotationMask)(r);isNaN(d)&&(d=u);var v=a(d);l.$formatters.push(p),l.$formatters.push(f),l.$parsers.push(m),l.$parsers.push(f)}}}]),e.module("ui.utils.masks.global.time",[]).directive("uiTimeMask",["$log",function(t){if("undefined"==typeof r)throw new Error("StringMask not found. Check if it is available.");return{restrict:"A",require:"ngModel",link:function(i,n,a,s){function u(e){return e.replace(/[^0-9]/g,"").slice(0,p)}function o(e){if(t.debug("[uiTimeMask] Formatter called: ",e),s.$isEmpty(e))return e;var r=u(e);if(0===r.length)return"";var i=d.process(r).result;return i.replace(/[^0-9]$/,"")}function l(e){t.debug("[uiTimeMask] Parser called: ",e);var r=o(e),i=r;return s.$viewValue!==r&&(s.$setViewValue(r),s.$render()),i}function c(r){if(t.debug("[uiTimeMask] Validator called: ",r),e.isUndefined(r))return r;var i=r.toString().split(/:/).filter(function(e){return!!e}),n=parseInt(i[0]),a=parseInt(i[1]),u=parseInt(i[2]||0),o=r.toString().length===m&&24>n&&60>a&&60>u;return s.$setValidity("time",s.$isEmpty(r)||o),r}var p=6,m=8,f="00:00:00";e.isDefined(a.uiTimeMask)&&"short"===a.uiTimeMask&&(p=4,m=5,f="00:00");var d=new r(f);s.$formatters.push(o),s.$formatters.push(c),s.$parsers.push(l),s.$parsers.push(c)}}}]),e.module("ui.utils.masks.helpers",[]).factory("PreFormatters",[function(){function e(e){var r=e.replace(/^-/,"").replace(/^0*/,"");return r=r.replace(/[^0-9]/g,"")}function r(r,t){return e(parseFloat(r).toFixed(t))}return{clearDelimitersAndLeadingZeros:e,prepareNumberToFormatter:r}}]).factory("NumberValidators",[function(){return{maxNumber:function(e,r,t){var i=parseFloat(t),n=e.$isEmpty(r)||isNaN(i)||i>=r;return e.$setValidity("max",n),r},minNumber:function(e,r,t){var i=parseFloat(t),n=e.$isEmpty(r)||isNaN(i)||r>=i;return e.$setValidity("min",n),r}}}]).factory("NumberMasks",[function(){return{viewMask:function(e,t,i){var n="#"+i+"##0";if(e>0){n+=t;for(var a=0;e>a;a++)n+="0"}return new r(n,{reverse:!0})},modelMask:function(e){var t="###0";if(e>0){t+=".";for(var i=0;e>i;i++)t+="0"}return new r(t,{reverse:!0})}}}]);var s=["ui.utils.masks.global","ui.utils.masks.br","ui.utils.masks.us"].filter(function(r){try{return e.module(r),!0}catch(t){return!1}});e.module("ui.utils.masks",s).config(["$logProvider",function(e){e.debugEnabled(!1)}])}(angular);